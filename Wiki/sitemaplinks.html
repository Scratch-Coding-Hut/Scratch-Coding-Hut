<!DOCTYPE html>
<html>
  <head>
    <title>Wiki | FAQ | Links | Coding Hut Website</title>

    <link href='https://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet'>

    <style>
      /* Global Styles */
      body {
        font-family: 'Comfortaa', Arial, sans-serif;
        font-size: 22px;
        line-height: 1.6; /* Better text spacing */
        margin: 0;
        padding: 0;
        text-align: center; /* Centers the content */
        overflow-x: hidden;
      }

      /* Navigation Menu */
      .menu-container {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: #c04d4d;
        color: #ffffff;
        padding: 20px;
        z-index: 1;
        box-sizing: border-box;
      }

      .menu-logo img {
        max-height: 40px;
        max-width: 100px;
      }

      .menu-container a {
        text-decoration: none;
        color: #ffffff;
        transition: color 0.3s ease;
      }

      .menu-container a:hover {
        color: #50e3c2;
      }

      .menu ul {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
      }

      .menu li {
        margin: 0 15px;
      }

      /* Wiki Controls */
      .wiki-controls {
        text-align: center;
        margin: 20px 0;
      }

      .wiki-controls a,
      .wiki-controls button {
        display: inline-block;
        margin: 5px;
        border: none;
        background: none;
        cursor: pointer;
      }

      .wiki-controls img {
        display: block;
        margin: 0 auto;
      }

      /* Form and Wiki Display */
      #wikiForm, #wikiPageView {
        width: 80%;
        max-width: 800px;
        margin: 20px auto;
        padding: 20px;
        background: #f9f9f9;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      input[type="text"], textarea {
        width: 100%;
        padding: 10px;
        font-size: 18px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      textarea {
        height: 200px;
      }

      button, button1 {
        padding: 10px 20px;
        font-size: 16px;
        background-color: #4CAF50;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      button:hover, button1:hover {
        background-color: #45a049;
      }

      ul {
        list-style: none;
        padding: 0;
      }

      li {
        display: inline-block;
        margin: 5px 10px;
      }

      li a {
        color: #007BFF;
        text-decoration: none;
        font-size: 18px;
      }

      li a:hover {
        text-decoration: underline;
      }

      iframe {
        width: 100%;
        height: 300px;
        border: none;
      }
    </style>
  </head>

  <body>
    <!-- Navigation Bar -->
    <nav class="menu-container">
      <a href="https://scratch-coding-hut.github.io" class="menu-logo">
        <img src="https://i.postimg.cc/6qgPbyGH/temp-Image-BJ164c.avif" alt="My Awesome Website"/>
      </a>

      <div class="menu">
        <ul>
          <li><a href="https://scratch-coding-hut.github.io">Home</a></li>
          <li><a href="https://scratch-coding-hut.github.io/about">About</a></li>
          <li><a href="https://scratch.mit.edu/discuss/topic/652178/">Scratch Forum Post</a></li>
          <li><a href="https://scratch-coding-hut.github.io/sitemaplinks">More...</a></li>
        </ul>
        <ul>
          <li><a href="https://scratch-coding-hut.github.io/account">My Account</a></li>
        </ul>
      </div>
    </nav>

    <h1><b>Wiki | FAQ | More Links</b></h1>

    <!-- Wiki Controls -->
    <div class="wiki-controls">
      <button onclick="createWikiPage()">
        <img src="new-wiki-page.png" width="50" height="50">
      </button>

      <button onclick="deleteAll()">
        <img src="delete-page.png" width="50" height="50">
      </button>

      <a href="https://Scratch-Coding-Hut.github.io/Wiki/history.html">
        <img src="history-icon.png" width="50" height="50">
      </a>

      <a href="https://github.com/Scratch-Coding-Hut/Scratch-Coding-Hut.github.io/issues/new?title=Wiki-Homepage">
        <img src="discuss-icon.png" width="50" height="50">
      </a>

      <a href="https://github.com/Scratch-Coding-Hut/Scratch-Coding-Hut.github.io/blob/main/Wiki/sitemaplinks.html">
        <img src="plain-text.png" width="50" height="50">
      </a>
    </div>

    <!-- Wiki Form -->
    <div id="wikiForm" style="display: none;">
      <input type="text" id="pageTitle" placeholder="Enter page title">
      <textarea id="pageContent" placeholder="Write your HTML, CSS, and JS here"></textarea>
    </div>

    <h2>Saved Pages:</h2>
    <ul id="wikiPages"></ul>

    <div id="wikiPageView" style="display: none;">
      <h2 id="viewTitle"></h2>
      <iframe id="viewContent"></iframe>
      <button1 onclick="closePageView()">Close Page</button1>
    </div>

    <h2>Wiki Homepage</h2>
    <p>Welcome to the wiki! The wiki is a place where we share Coding Hut knowledge and link to pages not shown in the header. It's also a useful source. It's powered by localStorage and can be edited or new pages can be made.</p>

    <script>
      function createWikiPage() {
        const title = document.getElementById('pageTitle').value;
        const content = document.getElementById('pageContent').value;
        const username = localStorage.getItem('username');

        const contentT = document.getElementById("wikiForm");
        contentT.style.display = "block";

        if (!title || !content) {
          alert('Please enter both a title and content.');
          return;
        }

        const page = { title, content };
        localStorage.setItem(title, JSON.stringify(page));
        localStorage.setItem('history', `${username} created a new topic, ${title}`);

        displayWikiPages();
        alert(`Page "${title}" created!`);

        document.getElementById('pageTitle').value = '';
        document.getElementById('pageContent').value = '';
      }

      function displayWikiPages() {
        const wikiPages = document.getElementById('wikiPages');
        wikiPages.innerHTML = '';

        for (let i = 0; i < localStorage.length; i++) {
          const key = localStorage.key(i);
          const page = JSON.parse(localStorage.getItem(key));

          const listItem = document.createElement('li');
          listItem.innerHTML = `<a href="#" onclick="viewWikiPage('${page.title}')">${page.title}</a>`;
          wikiPages.appendChild(listItem);
        }
      }

      function viewWikiPage(title) {
        const page = JSON.parse(localStorage.getItem(title));
        const content = document.getElementById("wikiForm");

        content.style.display = "none";

        if (page) {
          document.getElementById('viewTitle').textContent = page.title;

          const iframe = document.getElementById('viewContent');
          const doc = iframe.contentDocument || iframe.contentWindow.document;

          doc.open();
          doc.write(page.content);
          doc.close();

          document.getElementById('wikiPageView').style.display = 'block';
        }
      }

      function closePageView() {
        document.getElementById('wikiPageView').style.display = 'none';
      }

      function deleteAll() {
        localStorage.clear();
      }

      window.onload = displayWikiPages;
    </script>
  </body>
</html>
